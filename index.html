<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Tesis Carlos GR</title>
    <link rel="icon" type="image/x-icon" href="./images/favicon.png" />

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/white.css" />

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="plugin/highlight/monokai.css" />
  </head>
  <body>
    <div class="reveal">
      <header id="slide-header"></header>
      <div class="slides">
        <section data-external="capitulos/portada/portada.html"></section>
        <section data-external="capitulos/intro/intro.html"></section>
        <section data-external="capitulos/catlc/toc_catlc.html"></section>
        <section data-external="capitulos/catlc/catlc.html"></section>
        <section data-external="capitulos/humanloop/humanloop.html"></section>
        <section data-external="capitulos/timeseries/timeseries.html"></section>
        <section
          data-external="capitulos/conclusions/conclusions.html"
        ></section>
      </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/notes/notes.js"></script>
    <script src="plugin/markdown/markdown.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,
        slideNumber: "c/t",
        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
        dependencies: [
          {
            src: "plugin/external/external.js",
            condition: function () {
              return !!document.querySelector(
                "[data-external],[data-external-replace]"
              );
            },
          },
        ],
      });
      Reveal.addEventListener("slidechanged", function (event) {
        var header = document.getElementById("slide-header");
        var sectionName = event.currentSlide.getAttribute("data-section");
        var subsectionName = event.currentSlide.getAttribute("data-subsection");
        if (subsectionName) {
          header.innerHTML =
            sectionName +
            " / " +
            '<span class="subsection">' +
            subsectionName +
            "</span>";
        } else {
          header.innerHTML = sectionName;
        }
      });
      Reveal.addEventListener("fragmentshown", function (event) {
        var currentFragment = event.fragment.id;
        console.log(currentFragment);
        if (currentFragment === "toPantaFoix") {
          var iframe = document.getElementById("catlc_iframe");
          var myMap = iframe.contentWindow.myMap;
          myMap.flyTo([41.2586, 1.6403], 15); // Llamar al método setView() de myMap
        } else if (currentFragment === "toBarcelona") {
          var iframe = document.getElementById("catlc_iframe");
          var myMap = iframe.contentWindow.myMap;
          myMap.flyTo([41.3832764, 2.1764434]); // Llamar al método setView() de myMap
        } else if (currentFragment === "toVielha") {
          var iframe = document.getElementById("catlc_iframe");
          var myMap = iframe.contentWindow.myMap;
          myMap.flyTo([42.7746, 0.9534]); // Llamar al método setView() de myMap
        } else if (currentFragment === "toRipoll") {
          var iframe = document.getElementById("catlc_iframe");
          var myMap = iframe.contentWindow.myMap;
          myMap.flyTo([42.177, 2.1943]); // Llamar al método setView() de myMap
        }
      });
    </script>
  </body>
</html>
